<div class="container">
  <!-- To-do menu -->
  <div class="row" style="margin-top:12px;">
    <div class="col-md-2">
      <button type="button" (click)="createTodolist()" class="btn btn-info pull-right" style="margin-left:12px;"><i
          class="fa fa-plus"></i> New Todolist
      </button>
    </div>
  </div>

  <!-- Note content -->
  <div class="row" style="margin-top: 28px;">
    <!-- Notebooks Menu -->
    <div class="col-md-3">
      <br>
      <div class="list-group list-group-flush">
        <!-- Todolist List -->
        <a *ngFor="let todolist of todolists" (click)="selectTodolist(todolist)"
          class="list-group-item list-group-item-action">
          <i class="fa fa-list"></i>&nbsp;
          <input [(ngModel)]="todolist.title" (change)="updateTodolist(todolist)" type="text" class="input-label"
            style="width: 80%" />
          <a (click)="deleteTodolist(todolist)" class="pull-right text-danger">
            <i class="fa fa-trash-o"></i>
          </a>
        </a>
      </div>
    </div>

    <!-- Todo Panel -->
    <div class="col-md-9">
      <div class="row">
        <div class="col-md-12">
          <!-- Message if there are no todos-->
          <p *ngIf="this.todolists.length === 0">There are no lists:(</p>
        </div>
      </div>
      <div class="row">
        <!--Todo list -->
      <div class="todo-content">
        <h1 class="page-text">{{selectedTodolist.title}}</h1>
        <div class="todo-create">
          <form #todoForm="ngForm" (ngSubmit)="createTodo(todoForm,selectedTodolist)" novalidate>
            <input type="text" id="text" class="form-control" placeholder="Type a todo and press enter..." required
              name="text" [(ngModel)]="visibleTodo.text" #text="ngModel">
            <div *ngIf="text.errors && text.dirty" class="alert alert-danger">
              <div [hidden]="!text.errors.required">
                Text is required.
              </div>
            </div>
          </form>
        </div>
        <ul class="todo-list">
          <li *ngFor="let todo of todos" [class.completed]="todo.completed === true">
            <div class="todo-row" *ngIf="!editing || editingTodo.id != todo.id">
              <a class="todo-completed" (click)="toggleCompleted(todo)">
                <i class="material-icons toggle-completed-checkbox"></i>
              </a>
              <span class="todo-text">
                {{todo.text}}
              </span>
              <span class="todo-actions">
                <a (click)="editTodo(todo)">
                  <i class="material-icons edit">edit</i>
                </a>
                <a (click)="deleteTodo(todo)">
                  <i class="material-icons delete">clear</i>
                </a>
              </span>
            </div>
            <div class="todo-edit" *ngIf="editing && editingTodo.id === todo.id">
              <input class="form-control" type="text" [(ngModel)]="editingTodo.text" required>
              <span class="edit-actions">
                <a (click)="updateTodo(editingTodo)">
                  <i class="material-icons">done</i>
                </a>
                <a (click)="clearEditing()">
                  <i class="material-icons">clear</i>
                </a>
              </span>
            </div>
          </li>
        </ul>
        <div class="no-todos" *ngIf="todos && todos.length == 0">
          <p>No Todos Found!</p>
        </div>
</div>

      </div>
    </div>
  </div>
</div>
